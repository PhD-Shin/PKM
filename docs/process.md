# Didymos - ê°œë°œ í”„ë¡œì„¸ìŠ¤ ë° ì§„í–‰ ìƒí™©

> "Smart Connectionsë¥¼ ë„˜ì–´ì„  êµ¬ì¡°í™”ëœ 2nd Brain"
> Obsidian í”ŒëŸ¬ê·¸ì¸ êµ¬ë… ëª¨ë¸ - MVP 2ì£¼ ìŠ¤í”„ë¦°íŠ¸

**Last Updated**: 2025-12-03
**Status**: Phase 11-14 ì™„ë£Œ (MVP ì½”ì–´), ë² íƒ€ í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ì¤‘
**í•µì‹¬ ê¸°ìˆ **: Graphiti (ì €ì¥/ì¶”ì¶œ) + neo4j-graphrag (ê²€ìƒ‰/ì§ˆì˜) ë³‘ìš© ì•„í‚¤í…ì²˜

---

## í”„ë¡œì íŠ¸ ê°œìš”

### ì œí’ˆ í¬ì§€ì…”ë‹

| ê¸°ëŠ¥ | Smart Connections | InfraNodus | Didymos |
|------|-------------------|------------|---------|
| **ê²€ìƒ‰** | ìœ ì‚¬ ë…¸íŠ¸ ì°¾ê¸° | ë‹¨ì–´ ë¹ˆë„ ê¸°ë°˜ | GraphRAG í•˜ì´ë¸Œë¦¬ë“œ |
| **ê·¸ë˜í”„ ë‹¨ìœ„** | ë…¸íŠ¸ | ë‹¨ì–´ (co-occurrence) | **ê°œë…** (ontology) |
| **êµ¬ì¡°** | í‰ë©´ì  | ë‹¨ì–´ ë„¤íŠ¸ì›Œí¬ | **ê³„ì¸µì  ì§€ì‹ ê·¸ë˜í”„ (SKOS)** |
| **ë¶„ì„** | ì—†ìŒ | ë‹¨ì–´ ì¤‘ì‹¬ì„± | ì˜ì‚¬ê²°ì • ì¸ì‚¬ì´íŠ¸ |
| **LLM** | ì„ë² ë”©ë§Œ | ì—†ìŒ | ê°œë… ì¶”ì¶œ + í´ëŸ¬ìŠ¤í„° ìš”ì•½ |
| **ê´€ê³„ ì¶”ì¶œ** | ì—†ìŒ | ë™ì‹œ ì¶œí˜„ë§Œ | **ì£¼ì–´-ìˆ ì–´-ëª©ì ì–´** |
| **ì‹œê°„ ì¶”ë¡ ** | ì—†ìŒ | ì—†ìŒ | **Bi-temporal (Graphiti)** |

> **ì™œ ë‹¨ì–´ê°€ ì•„ë‹Œ ê°œë…ì¸ê°€?**
> InfraNodusëŠ” ë‹¨ì–´ ë™ì‹œì¶œí˜„(co-occurrence)ìœ¼ë¡œ ê·¸ë˜í”„ë¥¼ ë§Œë“¤ì§€ë§Œ, ì´ëŠ” "ì–¸ì–´ì˜ ê»ë°ê¸°"ë§Œ ìº¡ì²˜í•©ë‹ˆë‹¤.
> DidymosëŠ” LLMìœ¼ë¡œ **ê°œë…(Concept)**ì„ ì¶”ì¶œí•˜ê³  **ê´€ê³„(Relation)**ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì¶”ì¶œí•˜ì—¬ ì§„ì •í•œ ì§€ì‹ êµ¬ì¡°ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤.

### íƒ€ê²Ÿ ì‚¬ìš©ì
1. **PhD/ì—°êµ¬ì**: ë…¼ë¬¸ ë¦¬ë·°, ë¬¸í—Œ ì •ë¦¬
2. **PKM íŒŒì›Œìœ ì €**: 1000+ ë…¸íŠ¸, Zettelkasten ì‹¤ì²œ
3. **ì˜ì‚¬ê²°ì •ì**: í”„ë¡œì íŠ¸ ê´€ë¦¬, ì „ëµì  ì‚¬ê³ 

---

## ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸

### ìš”ê¸ˆì œ

| í‹°ì–´ | ê°€ê²© | ê¸°ëŠ¥ | íƒ€ê²Ÿ |
|------|------|------|------|
| **Free** | $0 | 100 ë…¸íŠ¸, ì£¼ 1íšŒ sync | ì¼ë°˜ ì‚¬ìš©ì |
| **Pro** | $7/ì›” | ë¬´ì œí•œ ë…¸íŠ¸, ì‹¤ì‹œê°„ sync | íŒŒì›Œìœ ì € |
| **Research** | $15/ì›” | + ê³ ê¸‰ ë¶„ì„, API | ì—°êµ¬ì |

### ë¹„ìš© êµ¬ì¡° (ì‚¬ìš©ìë‹¹/ì›”)
- Neo4j Aura: ~$0.50
- Claude API: ~$1.50
- ì¸í”„ë¼: ~$0.30
- **ì´**: ~$2.30/user/month
- **ë§ˆì§„**: $4.70 (Pro), $12.70 (Research)

---

## ê¸°ìˆ  ì•„í‚¤í…ì²˜

### ìŠ¤íƒ
- **Backend**: FastAPI, LangChain, LangGraph
- **Database**: Neo4j AuraDB
- **AI**: Claude 3.5 Sonnet (í´ëŸ¬ìŠ¤í„° ìš”ì•½), OpenAI Embeddings (í´ëŸ¬ìŠ¤í„°ë§), GPT-5 Mini (ì—”í‹°í‹° ì¶”ì¶œ)
- **Storage Layer**: Graphiti (Zep AI) - Bi-temporal ì§€ì‹ ê·¸ë˜í”„, ì—”í‹°í‹° ì¶”ì¶œ/ì €ì¥
- **Query Layer**: neo4j-graphrag - GraphRAG ê²€ìƒ‰ (Vector, Text2Cypher, VectorCypher, Tools)
- **Frontend**: Obsidian Plugin (TypeScript), vis-network
- **Clustering**: UMAP + HDBSCAN
- **Ontology**: PKM Ontology v1 (SKOS, FOAF, PROV-O ê¸°ë°˜)

### ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STORAGE LAYER (Graphiti)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Obsidian ë…¸íŠ¸ ìˆ˜ì • â†’ í”ŒëŸ¬ê·¸ì¸ ê°ì§€ â†’ FastAPI /notes/sync
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Graphiti ìë™ ì²˜ë¦¬                  â”‚
â”‚ 1. Entity ì¶”ì¶œ + ìš”ì•½ ìƒì„±          â”‚
â”‚ 2. Relation ì¶”ì¶œ (SKOS ê³„ì¸µ í¬í•¨)   â”‚
â”‚ 3. ê¸°ì¡´ Entityì™€ ë³‘í•©/ì—…ë°ì´íŠ¸      â”‚
â”‚ 4. Bi-temporal ì‹œê°„ ì •ë³´ ê¸°ë¡       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
Neo4j ì €ì¥ (PKM Ontology v1 ìŠ¤í‚¤ë§ˆ)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    QUERY LAYER (neo4j-graphrag)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì‚¬ìš©ì ì§ˆì˜ â†’ Retriever ì„ íƒ (Vector/Text2Cypher/Hybrid/Agentic)
    â†“
GraphRAG í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ â†’ UMAP + HDBSCAN í´ëŸ¬ìŠ¤í„°ë§
    â†“
Claude í´ëŸ¬ìŠ¤í„° ìš”ì•½ â†’ vis-network ì‹œê°í™”
```

---

## ì „ì²´ ì§„í–‰ ìƒí™©

### í˜„ì¬ ìƒíƒœ (2025-12-03)

| Phase | ìƒíƒœ | ì„¤ëª… |
|-------|------|------|
| 0-8 | âœ… ì™„ë£Œ | ê¸°ë³¸ MVP |
| 9 | âœ… ì™„ë£Œ | íŒ¨í„´ ë¶„ì„ & ì˜ì‚¬ê²°ì • ì¶”ì²œ |
| 10 | âœ… ì™„ë£Œ | ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ ì •ë¦½ & ì¬ê¸°íš |
| 11 | âœ… ì™„ë£Œ | ì˜ë¯¸ë¡ ì  í´ëŸ¬ìŠ¤í„°ë§ MVP |
| 12 | âœ… ì™„ë£Œ | GraphRAG ê²€ìƒ‰ ê°•í™” |
| 13 | âœ… ì™„ë£Œ | SKOS ì˜¨í†¨ë¡œì§€ ìë™ ìƒì„± |
| 14 | âœ… ì™„ë£Œ | ToolsRetriever í†µí•© |
| 15-17 | ğŸ“‹ ì˜ˆì • | Post-MVP (Multi-Vault, Collaborative, AI Agent) |

**ê¸°ìˆ  MVP ì™„ì„±ë„**: 93%
**ì œí’ˆ ì‹œì¥ ì í•©ì„±**: ì¬ì •ì˜ ì™„ë£Œ, ë² íƒ€ í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ì¤‘

---

## Phaseë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 0: í™˜ê²½ ì„¤ì •
**ì˜ˆìƒ ì‹œê°„**: 1~2ì‹œê°„ | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-0-setup.md)

- [x] Python 3.11+, Node.js 18+ ì„¤ì¹˜
- [x] Neo4j AuraDB ìƒì„±
- [x] OpenAI API í‚¤ ë°œê¸‰
- [x] í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
- [x] Git ì´ˆê¸°í™” ë° í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### Phase 1: ë°±ì—”ë“œ ì¸í”„ë¼
**ì˜ˆìƒ ì‹œê°„**: 2~3ì‹œê°„ | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-1-infra.md)

- [x] requirements.txt (langchain, langchain-neo4j, langgraph í¬í•¨)
- [x] Neo4j ì—°ê²° ëª¨ë“ˆ (HTTP API)
- [x] FastAPI ì„œë²„ ì‹¤í–‰ í™•ì¸

### Phase 2: ë…¸íŠ¸ ë™ê¸°í™” íŒŒì´í”„ë¼ì¸
**ì˜ˆìƒ ì‹œê°„**: 4~5ì‹œê°„ | [ğŸ“– Backend](phases/phase-2-sync-backend.md) | [ğŸ“– Frontend](phases/phase-2-sync-frontend.md)

- [x] NotePayload / NoteSyncRequest ìŠ¤í‚¤ë§ˆ ì •ì˜
- [x] upsert_note() (User/Vault/Note MERGE)
- [x] /notes/sync FastAPI ì—”ë“œí¬ì¸íŠ¸
- [x] Obsidian í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™” (TypeScript + esbuild)
- [x] ë…¸íŠ¸ ì €ì¥ ì‹œ ìë™ ë™ê¸°í™” ë° ì•Œë¦¼

### Phase 3: AI ì˜¨í†¨ë¡œì§€ ì¶”ì¶œ
**ì˜ˆìƒ ì‹œê°„**: 2~3ì‹œê°„ | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-3-ai.md)

- [x] LangChain LLMGraphTransformer ë„ì…
- [x] allowed_nodes (Topic, Project, Task, Person) ì„¤ì •
- [x] Graph-based Entity Resolution (2ë‹¨ê³„ ì¶”ì¶œ)
- [ ] Graphiti í†µí•© (ì§„í–‰ ì¤‘)

### Phase 4: Context Panel (Hybrid Search)
**ì˜ˆìƒ ì‹œê°„**: 4~5ì‹œê°„ | [ğŸ“– Backend](phases/phase-4-context-backend.md) | [ğŸ“– Frontend](phases/phase-4-context-frontend.md)

- [x] ë²¡í„° ì„ë² ë”© ìƒì„± ë° ì €ì¥ (OpenAI Embeddings)
- [x] êµ¬ì¡°ì (Graph) + ì˜ë¯¸ì (Vector) í•˜ì´ë¸Œë¦¬ë“œ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
- [x] Obsidian UI: Context View

### Phase 5: Graph Panel (Visualization)
**ì˜ˆìƒ ì‹œê°„**: 5~6ì‹œê°„ | [ğŸ“– Backend](phases/phase-5-graph-backend.md) | [ğŸ“– Frontend](phases/phase-5-graph-frontend.md)

- [x] Graph API: vis-network í¬ë§·
- [x] ë…¸ë“œ í´ë¦­/ë”ë¸”í´ë¦­ ì¸í„°ë™ì…˜
- [x] ë…¸ë“œ í•„í„°/ë ˆì´ë¸”/ë ˆì´ì•„ì›ƒ ì˜µì…˜
- [x] Note/Vault ëª¨ë“œ ì „í™˜
- [x] Sync All Notes ë²„íŠ¼
- [x] Control Panel, Auto-Hop ì‹œìŠ¤í…œ
- [x] Topic í´ëŸ¬ìŠ¤í„°ë§, ì¦ë¶„ ë™ê¸°í™”

### Phase 6: Task ê´€ë¦¬
**ì˜ˆìƒ ì‹œê°„**: 3~4ì‹œê°„ | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-6-tasks.md)

- [x] Task CRUD API
- [x] Task ìƒíƒœ ê´€ë¦¬ (todo/in_progress/done)
- [x] Obsidian UI: Task Panel

### Phase 7: Weekly Review
**ì˜ˆìƒ ì‹œê°„**: 3~4ì‹œê°„ | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-7-review.md)

- [x] ì£¼ê°„ ë¦¬ë·° API
- [x] ìƒˆ í† í”½/ìŠíŒ í”„ë¡œì íŠ¸/ë¯¸ì™„ë£Œ íƒœìŠ¤í¬/í™œì„± ë…¸íŠ¸ ì¿¼ë¦¬
- [x] Obsidian UI: Review Panel

### Phase 8: ë°°í¬ ë° ìµœì í™”
**ì˜ˆìƒ ì‹œê°„**: 4~5ì‹œê°„ | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-8-deploy.md)

- [x] í”„ë¼ì´ë²„ì‹œ ëª¨ë“œ/í´ë” ì œì™¸ ì˜µì…˜
- [x] í•µì‹¬ ì œì•½/ì¸ë±ìŠ¤ ì¶”ê°€
- [x] Docker ì»¨í…Œì´ë„ˆí™”
- [x] API ì†ë„ ìµœì í™” (ìºì‹±/GZip)
- [x] Railway ë°°í¬ ì™„ë£Œ

### Phase 9: íŒ¨í„´ ë¶„ì„ & ì˜ì‚¬ê²°ì • ì¶”ì²œ âœ…
**ì™„ë£Œì¼**: 2025-12-01 | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-9-patterns.md)

- [x] PageRank, Community Detection, Orphan Detection
- [x] Task Prioritization, Missing Connections
- [x] API ì—”ë“œí¬ì¸íŠ¸ (`/patterns/analyze`, `/patterns/recommendations`)
- [x] Insights View UI

### Phase 10: ì œí’ˆ ê°œì„  & ì‚¬ìš©ì ê²½í—˜ ê°•í™”
**ì‹œì‘ì¼**: 2025-12-01 | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-10-product.md)

- [x] PRD/UseCase/Process ë¬¸ì„œ ì—…ë°ì´íŠ¸
- [ ] ì˜¨ë³´ë”© ê²½í—˜ (ì˜ˆì •)
- [ ] Automation Recipes MVP (ì˜ˆì •)
- [ ] Feedback Loop UI (ì˜ˆì •)

### Phase 11: ì˜ë¯¸ë¡ ì  ê³„ì¸µ í´ëŸ¬ìŠ¤í„°ë§ MVP âœ…
**ì™„ë£Œì¼**: 2025-12-02 | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-11-clustering.md)

- [x] GPT-5 Mini API í†µí•©
- [x] UMAP + HDBSCAN ì˜ë¯¸ë¡ ì  í´ëŸ¬ìŠ¤í„°ë§
- [x] í´ëŸ¬ìŠ¤í„° ë©”íƒ€ë°ì´í„° (ì¤‘ìš”ë„, ì¸ì‚¬ì´íŠ¸, ìƒ˜í”Œ)
- [x] ìºì‹± & ì„±ëŠ¥ ìµœì í™” (TTL 12h, ë³‘ë ¬ ì²˜ë¦¬)
- [x] ê³„ì¸µì  íƒìƒ‰ UI (ì• ë‹ˆë©”ì´ì…˜, ìƒì„¸ íŒ¨ë„)
- [ ] ë‚´ë¶€ í…ŒìŠ¤íŠ¸ (Day 12-13)
- [ ] ë² íƒ€ ì¤€ë¹„ (Day 14)

### Phase 12: GraphRAG ê²€ìƒ‰ ê°•í™” âœ…
**ì™„ë£Œì¼**: 2025-12-02 | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-12-graphrag.md)

- [x] VectorRetriever (`/search/vector`)
- [x] Text2CypherRetriever (`/search/text2cypher`)
- [x] VectorCypherRetriever (`/search/hybrid`)
- [x] í†µí•© ê²€ìƒ‰ API (`POST /search`)

### Phase 13: SKOS ì˜¨í†¨ë¡œì§€ ìë™ ìƒì„± âœ…
**ì™„ë£Œì¼**: 2025-12-02 | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-13-skos.md)

- [x] LLM í”„ë¡¬í”„íŠ¸ ìˆ˜ì • (BROADER/NARROWER ê³„ì¸µ ê´€ê³„)
- [x] allowed_relationships í™•ì¥
- [x] SKOS ì–‘ë°©í–¥ì„± ë³´ì¥ (`_ensure_skos_inverse()`)
- [x] ë§¥ë½ ì¤‘ì‹¬ ì¶”ì¶œ í”„ë¡¬í”„íŠ¸

### Phase 14: ToolsRetriever í†µí•© âœ…
**ì™„ë£Œì¼**: 2025-12-02 | [ğŸ“– ìƒì„¸ ê°€ì´ë“œ](phases/phase-14-agentic.md)

- [x] ToolsRetriever êµ¬í˜„ (semantic_search, structured_query, hybrid_search)
- [x] Agentic Search API (`/search/agentic`)
- [x] Fallback ë©”ì»¤ë‹ˆì¦˜
- [x] í†µí•© ê²€ìƒ‰ API í™•ì¥ (mode: "agentic")

---

## í–¥í›„ ë¡œë“œë§µ (Post-MVP)

| Phase | ê¸°ëŠ¥ | ëª©í‘œ |
|-------|------|------|
| **15** | Multi-Vault ì§€ì› | ì—¬ëŸ¬ Vault ê°„ ì§€ì‹ ì—°ê²° |
| **16** | Collaborative KG | íŒ€ ì§€ì‹ ê·¸ë˜í”„ ê³µìœ  |
| **17** | AI Agent í†µí•© | ììœ¨ ë¦¬ì„œì¹˜ ì—ì´ì „íŠ¸ |

---

## ì‹œì‘í•˜ê¸°

```bash
cd docs
open phases/phase-0-setup.md
```
